
from enum import IntEnum

# This is values for hMapId

class MapType(IntEnum):
    
    # Important for Object Lookups

    OVERWORLD = 0
    INDOORS_A = 1
    INDOORS_B = 2
    COLOR_DUNGEON = 3

MAP_INDOORS_B_START   = 0x06
MAP_INDOORS_B_END     = 0x1A

class MapLevel(IntEnum):
    OVERWORLD = 0
    TAIL_CAVE = 1 # Dungeon 1
    BOTTLE_GROTTO = 2 # Dungeon 2
    KEY_CAVERN = 3 # Dungeon 3
    ANGLERS_TUNNEL = 4 # Dungeon 4
    CATFISHS_MAW = 5 # Dungeon 5
    FACE_SHRINE = 6 # Dungeon 6
    EAGLES_TOWER = 7 # Dungeon 7
    EAGLES_TOWER_ALT = 8
    TURTLE_ROCK = 9 # Dungeon 8
    WINDFISHS_EGG = 10
    COLOR_DUNGEON = 11
    CAVES_HOUSES = 12
    NULL = -1


LAYOUT = {


    # Dungeon 1
    MapLevel.TAIL_CAVE: ([ 
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x1B, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00],
        [0x00, 0x03, 0x04, 0x05, 0x00, 0x00, 0x06, 0x00],
        [0x1D, 0x00, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x00],
        [0x1C, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x00],
        [0x01, 0x00, 0x12, 0x13, 0x14, 0x00, 0x00, 0x00],
        [0x00, 0x15, 0x16, 0x17, 0x00, 0x00, 0x00, 0x00],        
    ], MapType.INDOORS_A),

    # Dungeon 2
    MapLevel.BOTTLE_GROTTO: ([ 
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x1B, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00],
        [0x00, 0x03, 0x04, 0x05, 0x00, 0x00, 0x06, 0x00],
        [0x1D, 0x00, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x00],
        [0x1C, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x00],
        [0x01, 0x00, 0x12, 0x13, 0x14, 0x00, 0x00, 0x00],
        [0x00, 0x15, 0x16, 0x17, 0x00, 0x00, 0x00, 0x00],        
    ], MapType.INDOORS_A),

    # Dungeon 3
    MapLevel.KEY_CAVERN: ([ 
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x1B, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00],
        [0x00, 0x03, 0x04, 0x05, 0x00, 0x00, 0x06, 0x00],
        [0x1D, 0x00, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x00],
        [0x1C, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x00],
        [0x01, 0x00, 0x12, 0x13, 0x14, 0x00, 0x00, 0x00],
        [0x00, 0x15, 0x16, 0x17, 0x00, 0x00, 0x00, 0x00],        
    ], MapType.INDOORS_A),

    # Dungeon 4
    MapLevel.ANGLERS_TUNNEL: ([ 
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x1B, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00],
        [0x00, 0x03, 0x04, 0x05, 0x00, 0x00, 0x06, 0x00],
        [0x1D, 0x00, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x00],
        [0x1C, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x00],
        [0x01, 0x00, 0x12, 0x13, 0x14, 0x00, 0x00, 0x00],
        [0x00, 0x15, 0x16, 0x17, 0x00, 0x00, 0x00, 0x00],        
    ], MapType.INDOORS_A),

    # Dungeon 5
    MapLevel.CATFISHS_MAW: ([ 
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x1B, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00],
        [0x00, 0x03, 0x04, 0x05, 0x00, 0x00, 0x06, 0x00],
        [0x1D, 0x00, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x00],
        [0x1C, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x00],
        [0x01, 0x00, 0x12, 0x13, 0x14, 0x00, 0x00, 0x00],
        [0x00, 0x15, 0x16, 0x17, 0x00, 0x00, 0x00, 0x00],        
    ], MapType.INDOORS_A),

    # Dungeon 6 
    MapLevel.FACE_SHRINE: ([ 
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x1B, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00],
        [0x00, 0x03, 0x04, 0x05, 0x00, 0x00, 0x06, 0x00],
        [0x1D, 0x00, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x00],
        [0x1C, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x00],
        [0x01, 0x00, 0x12, 0x13, 0x14, 0x00, 0x00, 0x00],
        [0x00, 0x15, 0x16, 0x17, 0x00, 0x00, 0x00, 0x00],        
    ], MapType.INDOORS_A),

    # Dungeon 7
    MapLevel.EAGLES_TOWER: ([ 
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x1B, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00],
        [0x00, 0x03, 0x04, 0x05, 0x00, 0x00, 0x06, 0x00],
        [0x1D, 0x00, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x00],
        [0x1C, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x00],
        [0x01, 0x00, 0x12, 0x13, 0x14, 0x00, 0x00, 0x00],
        [0x00, 0x15, 0x16, 0x17, 0x00, 0x00, 0x00, 0x00],        
    ], MapType.INDOORS_A),    
    
    # Dungeon 8
    MapLevel.TURTLE_ROCK: ([ 
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x1B, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00],
        [0x00, 0x03, 0x04, 0x05, 0x00, 0x00, 0x06, 0x00],
        [0x1D, 0x00, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x00],
        [0x1C, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x00],
        [0x01, 0x00, 0x12, 0x13, 0x14, 0x00, 0x00, 0x00],
        [0x00, 0x15, 0x16, 0x17, 0x00, 0x00, 0x00, 0x00],        
    ], MapType.INDOORS_A), 

    # Dungeon 9
    MapLevel.WINDFISHS_EGG: ([ 
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x19, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x1A, 0x1B, 0x00],
        [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00],
        [0x00, 0x03, 0x04, 0x05, 0x00, 0x00, 0x06, 0x00],
        [0x1D, 0x00, 0x07, 0x08, 0x09, 0x0A, 0x0B, 0x00],
        [0x1C, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x00],
        [0x01, 0x00, 0x12, 0x13, 0x14, 0x00, 0x00, 0x00],
        [0x00, 0x15, 0x16, 0x17, 0x00, 0x00, 0x00, 0x00],        
    ], MapType.INDOORS_A), 


}









class Map(IntEnum):

    MAP_TAIL_CAVE = 0x00
    MAP_BOTTLE_GROTTO = 0x01
    MAP_KEY_CAVERN = 0x02
    MAP_ANGLERS_TUNNEL = 0x03
    MAP_CATFISHS_MAW = 0x04
    MAP_FACE_SHRINE = 0x05
    MAP_EAGLES_TOWER = 0x06
    MAP_TURTLE_ROCK = 0x07
    MAP_WINDFISHS_EGG = 0x08
    MAP_09_UNUSED = 0x09
    MAP_CAVE_B = 0x0A # cave tileset A
    MAP_DUNGEON_G1 = 0x0B
    MAP_EAGLES_TOWER_ALT = 0x0C
    MAP_DUNGEON_G3 = 0x0D
    MAP_SHOP = 0x0E
    MAP_MINIGAME = 0x0F
    MAP_HOUSE = 0x10
    MAP_CAVE_C = 0x11 #; cave tileset B
    MAP_DOGHOUSE = 0x12
    MAP_DREAM_SHRINE = 0x13
    MAP_KANALET = 0x14
    MAP_BOWWOW_HIDEOUT = 0x15
    MAP_S_FACE_SHRINE = 0x16
    MAP_UNKNOWN_17 = 0x17
    MAP_UNKNOWN_18 = 0x18
    MAP_UNKNOWN_19 = 0x19
    MAP_UNKNOWN_1A = 0x1A
    MAP_UNKNOWN_1B = 0x1B
    MAP_UNKNOWN_1C = 0x1C
    MAP_LIBRARY = 0x1D
    MAP_GHOST_HOUSE = 0x1E
    MAP_CAVE_WATER = 0x1F #; cave tileset C
    MAP_COLOR_DUNGEON = 0xFF

    def get_overworld_type(self):
        
        if self.value >= MAP_INDOORS_B_START and self.value < MAP_INDOORS_B_END:
            return MapType.INDOORS_B
        elif self.value == Map.MAP_COLOR_DUNGEON:
            return MapType.COLOR_DUNGEON
        else:
            return MapType.INDOORS_A
        
    def get_map_level(self):
        if self.value == Map.MAP_TAIL_CAVE:
            return MapLevel.TAIL_CAVE
        elif self.value == Map.MAP_BOTTLE_GROTTO:
            return MapLevel.BOTTLE_GROTTO
        elif self.value == Map.MAP_KEY_CAVERN:
            return MapLevel.KEY_CAVERN
        elif self.value == Map.MAP_ANGLERS_TUNNEL:
            return MapLevel.ANGLERS_TUNNEL
        elif self.value == Map.MAP_CATFISHS_MAW:
            return MapLevel.CATFISHS_MAW
        elif self.value == Map.MAP_FACE_SHRINE:
            return MapLevel.FACE_SHRINE
        elif self.value == Map.MAP_EAGLES_TOWER:
            return MapLevel.EAGLES_TOWER
        elif self.value == Map.MAP_TURTLE_ROCK:
            return MapLevel.TURTLE_ROCK
        elif self.value == Map.MAP_WINDFISHS_EGG:
            return MapLevel.WINDFISHS_EGG
        elif self.value == Map.MAP_EAGLES_TOWER_ALT:
            return MapLevel.EAGLES_TOWER_ALT
        elif self.value == Map.MAP_COLOR_DUNGEON:
            return MapLevel.COLOR_DUNGEON
        else:
            return MapLevel.CAVES_HOUSES
        
